package com.optimus.utils;

import com.google.common.collect.Maps;
import com.optimus.BaseTest;
import org.junit.Test;

import java.util.Map;

public class NormalTest extends BaseTest {

    @Test
    public void  normal(){
        for (int i = 0; i < 10; i++) {
//            System.out.println(NumberUtils.random(3));
            System.out.println(IDUtils.uuid16());
        }

//        String str = "241207039751573,241207039751574,241207039751575,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576,241207039751576";
//        System.out.println( StringUtil.containsString(str, "241207039751576"));
    }


    @Test
    public void test() {
        int c = 0;
        Map<Long, Integer> map = Maps.newHashMap();
        for (int i = 0; i < 1000_000; i++) {
            long d = System.nanoTime();
            if (map.containsKey(d)) {
                c++;
                System.out.println("--->" + d);
            } else {
                map.put(d, 1);
            }
        }
        System.out.println("--->" + map.size());


    }

    @Test
    public void testGenId() {
        for (int i = 0; i < 100; i++) {
            Long id = genId(101);
            System.out.println(id + " " + id.toString().length());
        }
    }


    private long genId(Integer agentId) {
        String s = IDUtils.getId() + "" + System.nanoTime();
        return Long.parseLong(agentId.toString() + s.substring(s.length() - 16));
    }
}